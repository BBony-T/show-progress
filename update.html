<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>í˜„í™© ì•Œë¦¬ê¸°</title>
  <link rel="stylesheet" href="style.css">
</head>
<body class="update-page">
  <!-- ë°°ê²½ ì¥ì‹ ë¸”ë¡­ -->
  <div class="blob blob1"></div>
  <div class="blob blob2"></div>
  <div class="blob blob3"></div>

  <!-- ì½˜í…ì¸  ë˜í¼ -->
  <div class="wrapper">
    <!-- ë™ì ìœ¼ë¡œ ê·¸ë£¹ ì´ë¦„ì´ ë“¤ì–´ê°‘ë‹ˆë‹¤ -->
    <h1 id="title">í˜„í™© ì•Œë¦¬ê¸°</h1>

    <div id="buttons">
      <button data-status="ì‹œì‘">ğŸš€ ì‹œì‘</button>
      <button data-status="í† ì˜ì¤‘">ğŸ¤” í† ì˜ì¤‘</button>
      <button data-status="ì‘ì—…ì¤‘">âœï¸ ì‘ì—…ì¤‘</button>
      <button data-status="ë„ì›€ ìš”ì²­">ğŸ™‹â€â™‚ï¸ ë„ì›€ ìš”ì²­!</button>
      <button data-status="ì™„ë£Œ">ğŸ‰ ì™„ë£Œ</button>
    </div>
  </div>

  <!-- Firebase & ì—…ë°ì´íŠ¸ ë¡œì§ -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
  <script>
    // Firebase ì„¤ì •
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
      databaseURL: "https://YOUR_PROJECT_ID.firebaseio.com",
      projectId: "YOUR_PROJECT_ID",
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database().ref('currentActivity');

    // ê·¸ë£¹ ì´ë¦„ ì¶”ì¶œ ë° ì œëª© ë³€ê²½
    const params = new URLSearchParams(location.search);
    const group = params.get('group');
    document.getElementById('title').textContent = `${group} í˜„í™© ì•Œë¦¬ê¸°`;

    // ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
    document.querySelectorAll('#buttons button').forEach(btn => {
      btn.onclick = () => {
        const status = btn.getAttribute('data-status');
        db.child(group).update({ status, lastUpdate: new Date().toISOString() });
        alert(`í˜„í™©ì´ '${status}'ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤!`);
      };
    });
  </script>
</body>
</html>
