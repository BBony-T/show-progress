<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ëª¨ë‘ ë³„ ì‹¤ì‹œê°„ í™œë™ í˜„í™©íŒ</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>ëª¨ë‘ ë³„ ì‹¤ì‹œê°„ í™œë™ í˜„í™©íŒ</h1>

 <!-- âœ¨ ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ ì¶”ê°€ -->
  <button id="refreshBtn" style="margin-bottom:16px;">ğŸ”„ ìƒˆë¡œê³ ì¹¨</button>

  <div id="groups-container">
    <!-- ê¸°ë³¸ ì…ë ¥ ì¹¸ í•˜ë‚˜ -->
    <div class="group-input">
      <input type="text" placeholder="ëª¨ë‘  ì´ë¦„ (ì˜ˆ: íƒêµ¬ì¡°)">
      <button class="remove">Ã—</button>
    </div>
  </div>

  <button id="add-group">+ ëª¨ë‘  ì¶”ê°€</button>
  <button id="create-dashboard">í˜„í™©íŒ ìƒì„±</button>

 <!-- ìƒˆë¡œê³ ì¹¨ ê¸°ëŠ¥ ìŠ¤í¬ë¦½íŠ¸ -->
  <script>
    document.getElementById('refreshBtn').addEventListener('click', () => {
      // trueë¥¼ ì£¼ë©´ ìºì‹œëœ ë¦¬ì†ŒìŠ¤ ëŒ€ì‹  ì„œë²„ì—ì„œ ë‹¤ì‹œ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤
      location.reload(true);
    });
  </script>

  <!-- ì…ë ¥ í˜ì´ì§€ ì „ìš© ìŠ¤í¬ë¦½íŠ¸ -->
  <script>
    // ëª¨ë‘  ì¶”ê°€
    document.getElementById('add-group').onclick = () => {
      const div = document.createElement('div');
      div.className = 'group-input';
      div.innerHTML = `
        <input type="text" placeholder="ëª¨ë‘  ì´ë¦„">
        <button class="remove">Ã—</button>
      `;
      document.getElementById('groups-container').append(div);
      attachRemove(div.querySelector('.remove'));
    };

    // ì‚­ì œ ë²„íŠ¼ì— ì´ë²¤íŠ¸ ì—°ê²°
    function attachRemove(btn) {
      btn.onclick = () => btn.parentElement.remove();
    }
    document.querySelectorAll('.remove').forEach(attachRemove);

    // â€˜í˜„í™©íŒ ìƒì„±â€™ í´ë¦­ ì‹œ ëª¨ë‘  ì´ë¦„ ëª¨ì•„ì„œ dashboard.htmlë¡œ ì´ë™
    document.getElementById('create-dashboard').onclick = () => {
      const names = Array.from(
        document.querySelectorAll('#groups-container input')
      ).map(i => i.value.trim()).filter(v=>v);
      if (!names.length) return alert('ëª¨ë‘  ì´ë¦„ì„ í•˜ë‚˜ ì´ìƒ ì…ë ¥í•˜ì„¸ìš”.');
      // URL íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ (ì‰¼í‘œë¡œ êµ¬ë¶„)
      const param = encodeURIComponent(names.join(','));
      location.href = `dashboard.html?groups=${param}`;
    };
  </script>
</body>
</html>
