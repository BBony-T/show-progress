<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ëª¨ë‘ ë³„ ì‹¤ì‹œê°„ í™œë™ í˜„í™©íŒ</title>
  <link rel="stylesheet" href="style.css">
</head>
<body class="index-page">
  <!-- ë°ì½” ë¸”ë¡­ë“¤ -->
  <div class="blob blob1"></div>
  <div class="blob blob2"></div>
  <div class="blob blob3"></div>

  <div class="wrapper">
    <h1>ëª¨ë‘ ë³„ ì‹¤ì‹œê°„ í™œë™ í˜„í™©íŒ</h1>
    <button id="refreshBtn">ğŸ”„ ìƒˆë¡œê³ ì¹¨</button>

    <div id="groups-container">
      <div class="group-input">
        <input type="text" placeholder="ëª¨ë‘  ì´ë¦„ (ì˜ˆ: íƒêµ¬ì¡°)">
        <button class="remove">Ã—</button>
      </div>
    </div>

    <div class="buttons">
      <button id="add-group">+ ëª¨ë‘  ì¶”ê°€</button>
      <button id="create-dashboard">í˜„í™©íŒ ìƒì„±</button>
    </div>
  </div>

  <!-- ìƒˆë¡œê³ ì¹¨ ê¸°ëŠ¥ ìŠ¤í¬ë¦½íŠ¸ -->
  <script>
    document.getElementById('refreshBtn').addEventListener('click', () => {
      location.reload(true);
    });
  </script>

  <!-- ì…ë ¥ í˜ì´ì§€ ì „ìš© ìŠ¤í¬ë¦½íŠ¸ -->
  <script>
    document.getElementById('add-group').onclick = () => {
      const div = document.createElement('div');
      div.className = 'group-input';
      div.innerHTML = `
        <input type="text" placeholder="ëª¨ë‘  ì´ë¦„">
        <button class="remove">Ã—</button>
      `;
      document.getElementById('groups-container').append(div);
      attachRemove(div.querySelector('.remove'));
    };
    function attachRemove(btn) { btn.onclick = () => btn.parentElement.remove(); }
    document.querySelectorAll('.remove').forEach(attachRemove);

    document.getElementById('create-dashboard').onclick = () => {
      const names = Array.from(
        document.querySelectorAll('#groups-container input')
      ).map(i => i.value.trim()).filter(v=>v);
      if (!names.length) return alert('ëª¨ë‘  ì´ë¦„ì„ í•˜ë‚˜ ì´ìƒ ì…ë ¥í•˜ì„¸ìš”.');
      const param = encodeURIComponent(names.join(','));
      location.href = `dashboard.html?groups=${param}`;
    };
  </script>
</body>
</html>
